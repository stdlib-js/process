// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-node@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/string-left-pad@esm/index.mjs";function f(e){var t=e.default;if("function"==typeof t){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var c="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function m(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}var g=m,h=d;function p(e){if(g===setTimeout)return setTimeout(e,0);if((g===m||!g)&&setTimeout)return g=setTimeout,setTimeout(e,0);try{return g(e,0)}catch(t){try{return g.call(null,e,0)}catch(t){return g.call(this,e,0)}}}"function"==typeof c.setTimeout&&(g=setTimeout),"function"==typeof c.clearTimeout&&(h=clearTimeout);var v,w=[],b=!1,y=-1;function j(){b&&v&&(b=!1,v.length?w=v.concat(w):y=-1,w.length&&T())}function T(){if(!b){var e=p(j);b=!0;for(var t=w.length;t;){for(v=w,w=[];++y<t;)v&&v[y].run();y=-1,t=w.length}v=null,b=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===d||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(e)}}function E(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];w.push(new x(e,t)),1!==w.length||b||p(T)}function x(e,t){this.fun=e,this.array=t}x.prototype.run=function(){this.fun.apply(null,this.array)};var k={},O=[],V={},N={},_={};function P(){}var A=P,D=P,L=P,S=P,I=P,M=P,R=P;function C(e){throw new Error("process.binding is not supported")}function z(){return"/"}function G(e){throw new Error("process.chdir is not supported")}function H(){return 0}var X=c.performance||{},F=X.now||X.mozNow||X.msNow||X.oNow||X.webkitNow||function(){return(new Date).getTime()};function U(e){var t=.001*F.call(X),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var $=new Date;function q(){return(new Date-$)/1e3}var B={nextTick:E,title:"browser",browser:true,env:k,argv:O,version:"",versions:V,on:A,addListener:D,once:L,off:S,removeListener:I,removeAllListeners:M,emit:R,binding:C,cwd:z,chdir:G,umask:H,hrtime:U,platform:"browser",release:N,config:_,uptime:q},J=f(Object.freeze({__proto__:null,addListener:D,argv:O,binding:C,browser:true,chdir:G,config:_,cwd:z,default:B,emit:R,env:k,hrtime:U,nextTick:E,off:S,on:A,once:L,platform:"browser",release:N,removeAllListeners:M,removeListener:I,title:"browser",umask:H,uptime:q,version:"",versions:V})),K=J.argv,Q=J;var W=function(e){try{Q.chdir(e)}catch(e){return e}return null},Y=J;var Z=function(){return Y.cwd()},ee=J.env,te=J.execPath,re=t?te:null;var ne=function(){return null},ie=J.getegid,oe=r(ie)?ie:ne;var se=function(){return null},ae=J.geteuid,ue=r(ae)?ae:se;var le=function(){return null},fe=J.getgid,ce=r(fe)?fe:le;var me=function(){return null},de=J.getuid,ge=r(de)?de:me,he=J.versions.node,pe=t?he:null,ve=r,we=n;var be=function(){var e=arguments[arguments.length-1];if(!ve(e))throw new TypeError(we("invalid argument. Callback argument must be a function. Value: `%s`.",e));function t(){e(new Error("invalid operation. The environment does not support reading from `stdin`."))}setTimeout(t,0)},ye=l,je={0:"rwx",1:"rw",2:"rx",3:"r",4:"wx",5:"w",6:"x",7:""};var Te=function(e){var t;return e=e.toString(8),e=ye(e,4,"0"),t="",t+="u="+je[e[1]],t+=",",t+="g="+je[e[2]],t+=",",t+="o="+je[e[3]]},Ee=n,xe=l,ke=/^(u{0,1}g{0,1}o{0,1}a{0,1}|)([+\-=])(r{0,1}w{0,1}x{0,1})$/,Oe={r:2,w:1,x:0},Ve={s:0,u:1,g:2,o:3};function Ne(e){return 1<<e>>>0}function _e(e,t){return(e&~Ne(t))>>>0}var Pe=function(e,t){var r,n,i,o,s,a,u,l,f,c,m,d;for(r=xe(e.toString(8),4,"0").split(""),c=0;c<r.length;c++)r[c]=parseInt(r[c],10);for(n=t.split(","),c=0;c<n.length;c++){if(null===(s=n[c].match(ke)))return new Error(Ee('invalid argument. Unable to parse mask expression. Ensure the expression is properly formatted, only uses the class letters "u", "g", "o", and "a", only uses the operators "+", "-", and "=", and only uses the permission symbols "r", "w", and "x". Value: `%s`.',t));if(""===(o=s[1]))o="ugo";else{for(l="",d=0;d<o.length;d++)"a"===o[d]?l+="ugo":l+=o[d];o=l}if(u=s[2],i=s[3],"-"===u){if(""===i)continue;for(m=0;m<i.length;m++)for(f=Oe[i[m]],d=0;d<o.length;d++)r[a=Ve[o[d]]]=(r[a]|Ne(f))>>>0}else if("+"===u){if(""===i)continue;for(m=0;m<i.length;m++)for(f=Oe[i[m]],d=0;d<o.length;d++)r[a=Ve[o[d]]]=_e(r[a],f)}else if(""===i)for(d=0;d<o.length;d++)r[a=Ve[o[d]]]=7;else{for(d=0;d<o.length;d++)r[a=Ve[o[d]]]=7;for(m=0;m<i.length;m++)for(f=Oe[i[m]],d=0;d<o.length;d++)r[a=Ve[o[d]]]=_e(r[a],f)}}for(c=0;c<r.length;c++)r[c]=r[c].toString();return parseInt(r.join(""),8)},Ae=J,De=i.isPrimitive,Le=o.isPrimitive,Se=s.isPrimitive,Ie=a,Me=u,Re=n,Ce=Te,ze=Pe;var Ge=function(){var e,t,r,n,i;if(0===(t=arguments.length))return Ae.umask();if(n={},i=arguments[0],1===t){if(De(i)){if((r=ze(Ae.umask(),i))instanceof Error)throw r;return Ae.umask(r)}if(Le(i))return Ae.umask(i);if(Ie(i)){if(Me(i,"symbolic")&&(n.symbolic=i.symbolic,!Se(n.symbolic)))throw new TypeError(Re("invalid option. `%s` option must be a boolean. Option: `%s`.","symbolic",n.symbolic));return r=Ae.umask(),n.symbolic&&(r=Ce(r)),r}throw new TypeError(Re("invalid argument. Must provide either a string, nonnegative integer, or an options object. Value: `%s`.",i))}if(!Ie(e=arguments[1]))throw new TypeError(Re("invalid argument. Options argument must be an object. Value: `%s`.",e));if(Me(e,"symbolic")&&(n.symbolic=e.symbolic,!Se(n.symbolic)))throw new TypeError(Re("invalid option. `%s` option must be a boolean. Option: `%s`.","symbolic",n.symbolic));if(De(i)){if((r=ze(Ae.umask(),i))instanceof Error)throw r}else{if(!Le(i))throw new TypeError(Re("invalid argument. First argument must be either a string or nonnegative integer. Value: `%s`.",i));r=i}return r=Ae.umask(r),n.symbolic&&(r=Ce(r)),r},He={};e(He,"ARGV",K),e(He,"chdir",W),e(He,"cwd",Z),e(He,"ENV",ee),e(He,"EXEC_PATH",re),e(He,"getegid",oe),e(He,"geteuid",ue),e(He,"getgid",ce),e(He,"getuid",ge),e(He,"NODE_VERSION",pe),e(He,"stdin",be),e(He,"umask",Ge);export{K as ARGV,ee as ENV,re as EXEC_PATH,pe as NODE_VERSION,W as chdir,Z as cwd,He as default,oe as getegid,ue as geteuid,ce as getgid,ge as getuid,be as stdin,Ge as umask};
//# sourceMappingURL=index.mjs.map
