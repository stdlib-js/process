// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-node@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.0.3-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import{isPrimitive as o}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/string-left-pad@esm/index.mjs";function f(e){var t=e.default;if("function"==typeof t){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var c="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function m(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}var h=m,p=d;function g(e){if(h===setTimeout)return setTimeout(e,0);if((h===m||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}"function"==typeof c.setTimeout&&(h=setTimeout),"function"==typeof c.clearTimeout&&(p=clearTimeout);var v,b=[],w=!1,y=-1;function j(){w&&v&&(w=!1,v.length?b=v.concat(b):y=-1,b.length&&T())}function T(){if(!w){var e=g(j);w=!0;for(var t=b.length;t;){for(v=b,b=[];++y<t;)v&&v[y].run();y=-1,t=b.length}v=null,w=!1,function(e){if(p===clearTimeout)return clearTimeout(e);if((p===d||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}(e)}}function x(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];b.push(new E(e,t)),1!==b.length||w||g(T)}function E(e,t){this.fun=e,this.array=t}E.prototype.run=function(){this.fun.apply(null,this.array)};var k={},O=[],_={},P={},V={};function N(){}var A=N,L=N,D=N,M=N,S=N,C=N,I=N;function z(e){throw new Error("process.binding is not supported")}function H(){return"/"}function R(e){throw new Error("process.chdir is not supported")}function X(){return 0}var F=c.performance||{},G=F.now||F.mozNow||F.msNow||F.oNow||F.webkitNow||function(){return(new Date).getTime()};function U(e){var t=.001*G.call(F),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var $=new Date;function q(){return(new Date-$)/1e3}var B={nextTick:x,title:"browser",browser:true,env:k,argv:O,version:"",versions:_,on:A,addListener:L,once:D,off:M,removeListener:S,removeAllListeners:C,emit:I,binding:z,cwd:H,chdir:R,umask:X,hrtime:U,platform:"browser",release:P,config:V,uptime:q},J=f(Object.freeze({__proto__:null,addListener:L,argv:O,binding:z,browser:true,chdir:R,config:V,cwd:H,default:B,emit:I,env:k,hrtime:U,nextTick:x,off:M,on:A,once:D,platform:"browser",release:P,removeAllListeners:C,removeListener:S,title:"browser",umask:X,uptime:q,version:"",versions:_})),K=J.argv,Q=J;function W(e){try{Q.chdir(e)}catch(e){return e}return null}var Y=J;function Z(){return Y.cwd()}var ee=J.env,te=J.execPath,re=t?te:null;var ne=J.getegid,ie=r(ne)?ne:function(){return null};var oe=J.geteuid,se=r(oe)?oe:function(){return null};var ue=J.getgid,ae=r(ue)?ue:function(){return null};var le=J.getuid,fe=r(le)?le:function(){return null},ce=J.versions.node,me=t?ce:null;function de(){var e=arguments[arguments.length-1];if(!r(e))throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",e));function t(){e(new Error("invalid operation. The environment does not support reading from `stdin`."))}setTimeout(t,0)}var he={0:"rwx",1:"rw",2:"rx",3:"r",4:"wx",5:"w",6:"x",7:""};function pe(e){var t;return e=e.toString(8),e=l(e,4,"0"),t="",t+="u="+he[e[1]],t+=",",t+="g="+he[e[2]],t+=",",t+="o="+he[e[3]]}var ge=/^(u{0,1}g{0,1}o{0,1}a{0,1}|)([+\-=])(r{0,1}w{0,1}x{0,1})$/,ve={r:2,w:1,x:0},be={s:0,u:1,g:2,o:3};function we(e){return 1<<e>>>0}function ye(e,t){return(e&~we(t))>>>0}function je(e,t){var r,i,o,s,u,a,f,c,m,d,h,p;for(r=l(e.toString(8),4,"0").split(""),d=0;d<r.length;d++)r[d]=parseInt(r[d],10);for(i=t.split(","),d=0;d<i.length;d++){if(null===(u=i[d].match(ge)))return new Error(n('invalid argument. Unable to parse mask expression. Ensure the expression is properly formatted, only uses the class letters "u", "g", "o", and "a", only uses the operators "+", "-", and "=", and only uses the permission symbols "r", "w", and "x". Value: `%s`.',t));if(""===(s=u[1]))s="ugo";else{for(c="",p=0;p<s.length;p++)"a"===s[p]?c+="ugo":c+=s[p];s=c}if(f=u[2],o=u[3],"-"===f){if(""===o)continue;for(h=0;h<o.length;h++)for(m=ve[o[h]],p=0;p<s.length;p++)r[a=be[s[p]]]=(r[a]|we(m))>>>0}else if("+"===f){if(""===o)continue;for(h=0;h<o.length;h++)for(m=ve[o[h]],p=0;p<s.length;p++)r[a=be[s[p]]]=ye(r[a],m)}else if(""===o)for(p=0;p<s.length;p++)r[a=be[s[p]]]=7;else{for(p=0;p<s.length;p++)r[a=be[s[p]]]=7;for(h=0;h<o.length;h++)for(m=ve[o[h]],p=0;p<s.length;p++)r[a=be[s[p]]]=ye(r[a],m)}}for(d=0;d<r.length;d++)r[d]=r[d].toString();return parseInt(r.join(""),8)}var Te=J;function xe(){var e,t,r,l,f;if(0===(t=arguments.length))return Te.umask();if(l={},f=arguments[0],1===t){if(i(f)){if((r=je(Te.umask(),f))instanceof Error)throw r;return Te.umask(r)}if(o(f))return Te.umask(f);if(u(f)){if(a(f,"symbolic")&&(l.symbolic=f.symbolic,!s(l.symbolic)))throw new TypeError(n("invalid option. `%s` option must be a boolean. Option: `%s`.","symbolic",l.symbolic));return r=Te.umask(),l.symbolic&&(r=pe(r)),r}throw new TypeError(n("invalid argument. Must provide either a string, nonnegative integer, or an options object. Value: `%s`.",f))}if(!u(e=arguments[1]))throw new TypeError(n("invalid argument. Options argument must be an object. Value: `%s`.",e));if(a(e,"symbolic")&&(l.symbolic=e.symbolic,!s(l.symbolic)))throw new TypeError(n("invalid option. `%s` option must be a boolean. Option: `%s`.","symbolic",l.symbolic));if(i(f)){if((r=je(Te.umask(),f))instanceof Error)throw r}else{if(!o(f))throw new TypeError(n("invalid argument. First argument must be either a string or nonnegative integer. Value: `%s`.",f));r=f}return r=Te.umask(r),l.symbolic&&(r=pe(r)),r}var Ee={};e(Ee,"ARGV",K),e(Ee,"chdir",W),e(Ee,"cwd",Z),e(Ee,"ENV",ee),e(Ee,"EXEC_PATH",re),e(Ee,"getegid",ie),e(Ee,"geteuid",se),e(Ee,"getgid",ae),e(Ee,"getuid",fe),e(Ee,"NODE_VERSION",me),e(Ee,"stdin",de),e(Ee,"umask",xe);export{K as ARGV,ee as ENV,re as EXEC_PATH,me as NODE_VERSION,W as chdir,Z as cwd,Ee as default,ie as getegid,se as geteuid,ae as getgid,fe as getuid,de as stdin,xe as umask};
//# sourceMappingURL=index.mjs.map
