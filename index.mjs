// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-node@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.2-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import{isPrimitive as o}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/string-left-pad@v0.2.2-esm/index.mjs";function f(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var c="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function m(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}var h=m,p=d;function g(e){if(h===setTimeout)return setTimeout(e,0);if((h===m||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}"function"==typeof c.setTimeout&&(h=setTimeout),"function"==typeof c.clearTimeout&&(p=clearTimeout);var v,b=[],w=!1,y=-1;function j(){w&&v&&(w=!1,v.length?b=v.concat(b):y=-1,b.length&&T())}function T(){if(!w){var e=g(j);w=!0;for(var t=b.length;t;){for(v=b,b=[];++y<t;)v&&v[y].run();y=-1,t=b.length}v=null,w=!1,function(e){if(p===clearTimeout)return clearTimeout(e);if((p===d||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}(e)}}function x(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];b.push(new E(e,t)),1!==b.length||w||g(T)}function E(e,t){this.fun=e,this.array=t}E.prototype.run=function(){this.fun.apply(null,this.array)};var k="browser",O="browser",_={},P=[],V={},N={},A={};function L(){}var D=L,M=L,S=L,C=L,I=L,R=L,z=L;function H(e){throw new Error("process.binding is not supported")}function X(){return"/"}function F(e){throw new Error("process.chdir is not supported")}function G(){return 0}var U=c.performance||{},$=U.now||U.mozNow||U.msNow||U.oNow||U.webkitNow||function(){return(new Date).getTime()};function q(e){var t=.001*$.call(U),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var B=new Date;function J(){return(new Date-B)/1e3}var K={nextTick:x,title:k,browser:true,env:_,argv:P,version:"",versions:V,on:D,addListener:M,once:S,off:C,removeListener:I,removeAllListeners:R,emit:z,binding:H,cwd:X,chdir:F,umask:G,hrtime:q,platform:O,release:N,config:A,uptime:J},Q=f(Object.freeze({__proto__:null,addListener:M,argv:P,binding:H,browser:true,chdir:F,config:A,cwd:X,default:K,emit:z,env:_,hrtime:q,nextTick:x,off:C,on:D,once:S,platform:O,release:N,removeAllListeners:R,removeListener:I,title:k,umask:G,uptime:J,version:"",versions:V})),W=Q.argv,Y=Q;function Z(e){try{Y.chdir(e)}catch(e){return e}return null}var ee=Q;function te(){return ee.cwd()}var re=Q.env,ne=Q.execPath,ie=t?ne:null;var oe=Q.getegid,se=r(oe)?oe:function(){return null};var ue=Q.geteuid,le=r(ue)?ue:function(){return null};var ae=Q.getgid,fe=r(ae)?ae:function(){return null};var ce=Q.getuid,me=r(ce)?ce:function(){return null},de=Q.versions.node,he=t?de:null;function pe(){var e=arguments[arguments.length-1];if(!r(e))throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",e));setTimeout((function(){e(new Error("invalid operation. The environment does not support reading from `stdin`."))}),0)}var ge={0:"rwx",1:"rw",2:"rx",3:"r",4:"wx",5:"w",6:"x",7:""};function ve(e){var t;return e=e.toString(8),e=a(e,4,"0"),t="",t+="u="+ge[e[1]],t+=",",t+="g="+ge[e[2]],t+=",",t+="o="+ge[e[3]]}var be=/^(u{0,1}g{0,1}o{0,1}a{0,1}|)([+\-=])(r{0,1}w{0,1}x{0,1})$/,we={r:2,w:1,x:0},ye={s:0,u:1,g:2,o:3};function je(e){return 1<<e>>>0}function Te(e,t){return(e&~je(t))>>>0}function xe(e,t){var r,i,o,s,u,l,f,c,m,d,h,p;for(r=a(e.toString(8),4,"0").split(""),d=0;d<r.length;d++)r[d]=parseInt(r[d],10);for(i=t.split(","),d=0;d<i.length;d++){if(null===(u=i[d].match(be)))return new Error(n('invalid argument. Unable to parse mask expression. Ensure the expression is properly formatted, only uses the class letters "u", "g", "o", and "a", only uses the operators "+", "-", and "=", and only uses the permission symbols "r", "w", and "x". Value: `%s`.',t));if(""===(s=u[1]))s="ugo";else{for(c="",p=0;p<s.length;p++)"a"===s[p]?c+="ugo":c+=s[p];s=c}if(f=u[2],o=u[3],"-"===f){if(""===o)continue;for(h=0;h<o.length;h++)for(m=we[o[h]],p=0;p<s.length;p++)r[l=ye[s[p]]]=(r[l]|je(m))>>>0}else if("+"===f){if(""===o)continue;for(h=0;h<o.length;h++)for(m=we[o[h]],p=0;p<s.length;p++)r[l=ye[s[p]]]=Te(r[l],m)}else if(""===o)for(p=0;p<s.length;p++)r[l=ye[s[p]]]=7;else{for(p=0;p<s.length;p++)r[l=ye[s[p]]]=7;for(h=0;h<o.length;h++)for(m=we[o[h]],p=0;p<s.length;p++)r[l=ye[s[p]]]=Te(r[l],m)}}for(d=0;d<r.length;d++)r[d]=r[d].toString();return parseInt(r.join(""),8)}var Ee=Q;function ke(){var e,t,r,a,f;if(0===(t=arguments.length))return Ee.umask();if(a={},f=arguments[0],1===t){if(i(f)){if((r=xe(Ee.umask(),f))instanceof Error)throw r;return Ee.umask(r)}if(o(f))return Ee.umask(f);if(u(f)){if(l(f,"symbolic")&&(a.symbolic=f.symbolic,!s(a.symbolic)))throw new TypeError(n("invalid option. `%s` option must be a boolean. Option: `%s`.","symbolic",a.symbolic));return r=Ee.umask(),a.symbolic&&(r=ve(r)),r}throw new TypeError(n("invalid argument. Must provide either a string, nonnegative integer, or an options object. Value: `%s`.",f))}if(!u(e=arguments[1]))throw new TypeError(n("invalid argument. Options argument must be an object. Value: `%s`.",e));if(l(e,"symbolic")&&(a.symbolic=e.symbolic,!s(a.symbolic)))throw new TypeError(n("invalid option. `%s` option must be a boolean. Option: `%s`.","symbolic",a.symbolic));if(i(f)){if((r=xe(Ee.umask(),f))instanceof Error)throw r}else{if(!o(f))throw new TypeError(n("invalid argument. First argument must be either a string or nonnegative integer. Value: `%s`.",f));r=f}return r=Ee.umask(r),a.symbolic&&(r=ve(r)),r}var Oe={};e(Oe,"ARGV",W),e(Oe,"chdir",Z),e(Oe,"cwd",te),e(Oe,"ENV",re),e(Oe,"EXEC_PATH",ie),e(Oe,"getegid",se),e(Oe,"geteuid",le),e(Oe,"getgid",fe),e(Oe,"getuid",me),e(Oe,"NODE_VERSION",he),e(Oe,"stdin",pe),e(Oe,"umask",ke);export{W as ARGV,re as ENV,ie as EXEC_PATH,he as NODE_VERSION,Z as chdir,te as cwd,Oe as default,se as getegid,le as geteuid,fe as getgid,me as getuid,pe as stdin,ke as umask};
//# sourceMappingURL=index.mjs.map
